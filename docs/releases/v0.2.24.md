# VAOL v0.2.24 Release Notes

Release date: 2026-02-23

## Highlights

- Hardened strict verification with opt-in online Rekor payload-hash validation.
- Added strict auth-context completeness checks (`issuer` + `source`) for authenticated records.
- Added Sigstore verification parity in CLI for both record and bundle verification.
- Preserved API/protobuf/runtime backward compatibility by keeping strict-online Rekor disabled by default.

## Added

- `pkg/verifier/strict_policy.go`:
  - `StrictPolicy` runtime options
  - `SetStrictPolicy(...)`
- `pkg/verifier/rekor.go`:
  - `RekorClient` interface
  - `HTTPRekorClient` implementation
  - Rekor payload-hash extraction and verification
- New tests:
  - `pkg/verifier/rekor_test.go`
  - strict-profile auth/Rekor cases in `pkg/verifier/verifier_test.go`
  - strict-online REST verify regression in `pkg/api/handlers_test.go`
  - strict-online gRPC verify regression in `pkg/grpc/server_test.go`
  - Sigstore CLI wiring tests in `cmd/vaol-cli/main_test.go`

## Changed

- `vaol-server` new runtime flags:
  - `--verify-strict-online-rekor`
  - `--verify-rekor-url`
  - `--verify-rekor-timeout`
- Strict policy is now wired into:
  - REST verifier in `pkg/api.NewServer(...)`
  - gRPC verifier initialization in `cmd/vaol-server`
- `vaol verify record|bundle` new flags:
  - `--sigstore-verify`
  - `--sigstore-oidc-issuer`
  - `--sigstore-rekor-url`
  - `--sigstore-rekor-required`
- Helm chart values/schema/template now expose strict online Rekor verifier controls.

## Compatibility

- No REST endpoint schema changes.
- No protobuf/gRPC method/message changes.
- No DecisionRecord schema changes.
- Strict online Rekor checking is opt-in and disabled by default.

## Verification Summary

- `go test ./...` (targeted touched packages + full suite in CI)
- `go test -race ./tests/e2e ./tests/tamper -v`
- `cd sdk/python && ruff check vaol/ && mypy vaol/ && pytest tests/ -v`
- `cd sdk/typescript && npm ci && npm run lint && npm test`
- `./scripts/demo_auditor.sh`
- `docker build -f deploy/docker/Dockerfile.server -t vaol-server:ci .`
- `docker build -f deploy/docker/Dockerfile.proxy -t vaol-proxy:ci .`
